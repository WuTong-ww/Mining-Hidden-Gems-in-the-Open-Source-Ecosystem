import requests
import pandas as pd

# GitHub Personal Access Token (可选，提高速率限制)
ACCESS_TOKEN = "xxx"  # 替换为您的 GitHub Token，或者留空
HEADERS = {"Authorization": f"Bearer {ACCESS_TOKEN}"} if ACCESS_TOKEN else {}

# 定义获取仓库星标数据的函数
def get_repo_stars(org, repo):
    url = f"https://api.github.com/repos/{org}/{repo}"
    try:
        response = requests.get(url, headers=HEADERS)
        response.raise_for_status()  # 检查请求是否成功
        data = response.json()
        return data.get("stargazers_count", 0)  # 返回星标数量
    except requests.HTTPError as e:
        if response.status_code == 404:
            print(f"仓库未找到: {org}/{repo}")
        else:
            print(f"HTTP 错误: {e}")
    except requests.RequestException as e:
        print(f"请求失败: {e}")
    return None

# 示例仓库列表
repos = [
    "gplaurin/keep-talking-and-nobody-explodes-manuel-francais",
    "jamiebuilds/isolated-core-demo",
    "profelis/overload-operator",
    "newghost/redblade",
    "furqanmk/NotificationBar",
    "ghurl/ghurl.github.io",
    "Everpure/wechatforwarder",
    "ykhs/github-issue-browser",
    "ScreamZ/react-native-true-sight",
    "jacobat/fake-resque",
    "jonathaningram/angular-cssmodules-example-app",
    "kafeman/habrahabr-api-python-client",
    "divio/django-cms-explorer",
    "ShorTie8/mini_image",
    "agateau/colorpick",
    "rjenkins/ursus",
    "Qxxr86fBjpGetWr/ChouTi",
    "joedevivo/hpack",
    "Shazwazza/UmbracoLinqPadDriver",
    "kiwenlau/compile-hadoop",
    "cemmanouilidis/monokai-gnome-terminal",
    "logdna/logdna-cli",
    "Licenser/lein-search",
    "VerbalExpressions/FSharpVerbalExpressions",
    "eldarion/gondor-client",
    "nigma/django-herokuify",
    "gonzojive/deep-learning",
    "joshmarshall/tweetwatcher",
    "chriskiehl/Burrito-Bot",
    "garethr/puppet-docker-swarm-example",
    "chdemko/joomla-external-login",
    "johansatge/elastic-columns",
    "orbyone/Sensible.PredictionIO.NET",
    "pingpong-labs/twitter",
    "ab93/SIFCM",
    "joshuatonga/react-use-fuzzy",
    "jenkinsci/seed-plugin",
    "nqdeng/YCombo",
    "soffes/Canvas",
    "bullsoft/php-pinyin",
    "dangrover/sf-transit-inequality",
    "MaybeRex/Electron-Webcam",
    "bilus/om-event-bus",
    "bobfamiliar/microservices-iot-azure",
    "mkoppanen/php-extsample",
    "haslab/Electrum",
    "tnzk/Raphael-Radar",
    "ggkovacs/node-px2rem",
    "solicode/clj-thrust",
    "supermihi/gurobimh",
    "webbgeorge/php-sqs-tutorial",
    "javan/blade",
    "cnbeining/Chrome-Data-Compression-Proxy-Standalone-Python",
    "desertpy/presentations",
    "wangfeng3769/weixin",
    "dlikhten/filtered-collection",
    "IanTaehoonYoo/semantic-segmentation-pytorch",
    "crushlovely/Sidecar",
    "hellowebbooks/hellowebapp-ic-code",
    "layervault/jquery.image.fadeto.js",
    "nathanhoad/maneki",
    "rothnic/anaconda-notebook",
    "maxfierke/WaterCooler",
    "luyongfugx/seamSearch",
    "Vinai/VinaiKopp_ProductCategories",
    "cavendish-ldp/cavendish",
    "kailoa/6tringle-touchsamplecode",
    "michidk/Aseprite-DarkFlat-Theme",
    "yoshuawuyts/npm-install-package",
    "scylladb/cassandra-test-and-deploy",
    "dtinth/synchroscope",
    "acharroux/Movidius-On-MacOS",
    "matteocng/react-flag-icon-css",
    "kennel209/owasp-testing-guide-v4-gitbook",
    "sketchings/oop-basics",
    "bmavity/ges-client",
    "bstopp/puppet-aem",
    "rcrandall/ChanVese",
    "codenvy-legacy/ide",
    "informationextraction/core-android-native",
    "lmk123/webpack-boilerplate",
    "candyforchris/CLOverlayKit",
    "songgao/bufferManager.go",
    "dikonov/Universal-Dictionary-of-Concepts",
    "constantine-ivanov/strings-xml-tools",
    "plumk97/Chat",
    "Steve132/ubj",
    "noppefoxwolf/NFXTourViewController",
    "appdotnet/object-metadata",
    "iot-works/iot-android",
    "FireDrunk/ZFSmond",
    "adamgordonbell/attribute-based-caching",
    "cmck/pybrowserstack-screenshots",
    "youknowriad/authenticate.js",
    "UniversalAvenue/TiCrosswalk",
    "hugowetterberg/folding",
    "fguillen/MDMagick",
    "CyanogenMod/android_external_e2fsprogs",
    "jmeter-templates/wordpress",
    "router5/redux-router5",
    "migurski/modestmaps-as3",
    "ataka/ls2xs",
    "sahands/python-totp",
    "jcoglan/jstest",
    "mcommons/legislative-lookup",
    "xpressengine/laravel-korean-docs",
    "wechatui/onepx",
    "malukenho/MigrateDB",
    "lorenbrichter/record-screen",
    "jamesplease/router-comparison",
    "RevolutionAnalytics/plyrmr",
    "brentp/quicksect",
    "rkh/sinatra-advanced-routes",
    "view-components/grids",
    "idan/django-fuzzydt",
    "Cedric-Xuan/SNSNotificationBadge",
    "googlearchive/appengine-i18n-sample-python",
    "rocketseat-content/youtube-style-guide-javascript",
    "PolymerLabs/polyicon",
    "erica/datatube",
    "mhess126/usda_national_nutrients",
    "interactivethings/gsheets",
    "thebitcave/divine-proportions-toolkit-for-photoshop",
    "bigspaceship/blocker",
    "choppsv1/homebrew-term24",
    "hammerlab/sosa",
    "autodesk-cloud/ochonetes",
    "EIrwin/stubble",
    "d-rep/URL-Shortener",
    "mongogis/mongodb-gdal-driver",
    "elvismercado/meteor-raix-push-demo",
    "tomohisa/SwiftSlackBotter",
    "ellson/MOTHBALLED-webdot",
    "InfyOmLabs/coreui-generator",
    "tamnd/spambot",
    "mjhea0/node-express-ajax-craigslist",
    "aidaan/bbedit-swift-language-module",
    "noflo/noflo-core",
    "clebert/r-pi-usonic",
    "Shyri/MaterialToolbar",
    "NikolaDespotoski/BottomNavigationLayout",
    "hasura/kubeformation",
    "mdorn/proose",
    "KL-Yang/mbl-linux-4.0",
    "ChrisPenner/LumberJack",
    "ksoichiro/material-design-colors",
    "anismiles/jsdom-based-screen-scraper",
    "davybrion/Agatha",
    "coleww/cat-me",
    "kuailejim/demo",
    "timsutton/aamporter",
    "ember-m3/ember-m3",
    "henriquesosa/electron-intro",
    "kevinsuh/toki",
    "SublimeLinter/SublimeLinter-coffeelint",
    "SoftwareDefinedBuildings/smap",
    "owenthereal/negroni-gorelic",
    "cvee/node-upstart",
    "cucumber-attic/cucumber-rails-training-wheels",
    "mrblueblue/react-native-oauth",
    "nicolaslopezj/react-meteor-data",
    "AydinHassan/m2-opcache-monitor",
    "seongminwoo/study",
    "Octo-Labs/easymarklet",
    "mrosset/go-git",
    "mikelevins/taps",
    "leozdgao/react-markdown",
    "steinim/gcp-terraform-workshop",
    "eteran/quixey",
    "Pay20Y/SAR_TF",
    "frogermcs/Dagger2Recipes-UserScope",
    "sabel83/metaparse_tutorial",
    "razerdp/PhotoContents",
    "tvcutsem/erlang-mapreduce",
    "daniellmb/SharpSpin",
    "masonmark/Dash-Board-for-Newton-OS",
    "sjl/bookmarkdown",
    "ch0psticks/ROP-without-Return-on-ARM-android-",
    "CatWang/OCR-Picture-Generators",
    "cs136/seashell",
    "DASPRiD/Formidable",
    "danyaljj/constrained_clustering",
    "allenai/tuffylite",
    "radoondas/elasticbeat",
    "sensu/sensu-admin",
    "veryyoung/crack-capatcha",
    "reconbot/backbone-singleton",
    "nabuk/NSlice",
    "toseefkhilji/TKGallery",
    "amberbit/prawn-fast-png",
    "bryceg/servicenow-dts",
    "Kitware/cumulus",
    "daeken/Zookeeper",
    "pkgw/tex-stuff",
    "leap-ai/draw-it",
    "kkdai/beacon",
    "lihw/FutureInterface",
    "slodge/BallControl",
    "Chinamobo/iOS-Project-Template",
    "st3fan/SadMacScreenSaver",
    "grmlin/gremlins",
    "hplgit/hplgit.github.com",
    "Ciechan/NSMutableArrayExplorer",
    "npflood/AWS-SNS-HTTP-PHP-ENDPOINT",
    "feedindicator/Feedindicator",
    "AppTree/ios",
    "GetStream/Stream-Example-Rails",
    "BretFisher/slack-signup",
    "Georgynet/Blog-Yii2",
    "sarpdorukaslan/solid",
    "twerdster/iPTAM",
    "lgvalle/Beautiful-Photos",
    "f5io/bonobo-js",
    "francisypl/mineranker",
    "googlearchive/adaptive-ui-patterns",
    "jgallen23/clientside",
    "alexisvincent/systemjs-hmr",
    "JohnMurga/atom-portable",
    "robertlevonyan/permissions-flow",
    "tototoshi/play-flyway",
    "collectiveidea/merger",
    "SeniorZhai/LineLayout",
    "mattn/emoji-vim",
    "JackTeam/XHTextField",
    "cternes/slackspace-angular-spring-keycloak",
    "tualatrix/LinuxNativeNotification",
    "asengupta/duck-angular",
    "matthewwilson/OBDSim",
    "Gandi/dnsknife",
    "sensu-plugins/sensu-plugins-network-checks",
    "noqcks/alpine-hubot",
    "OHIF/react-viewerbase",
    "majker/cmsblogs",
    "logicx24/SubredditRecommendationEngine",
    "fedecarg/jquery-paginate",
    "moeoverflow/PixivForMuzeiPlus",
    "Labmem003/README.md-Sample",
    "uncleLian/vue2-health",
    "kyungw00k/nightmare-webrequest-addon",
    "imjasonh/nopullrequests",
    "BatuhanK/BeyinJimnastigi",
    "elisehein/Pageturner",
    "Angstrom-distribution/angstrom-manifest",
    "SeongUgJung/GDG-ATSL-ON-MVP",
    "flycodepl/mi-band-firmware-analyse",
    "grimmdude/jQuery-menuFlip",
    "suchowan/watson-api-client",
    "datariot/meteor-ganalytics",
    "ihumanable/prosper-lib",
    "APSL/react-native-navigator-wrapper",
    "vinta/django-email-confirm-la",
    "drewisme/authorizesauce",
    "ludohenin/ng2-wp-blog",
    "codeigniter-jp/ci-ja",
    "yappkahowe/scrumboard",
    "Dataman-Cloud/Mesos-CN",
    "kayahr/console-shim",
    "AvisoNovate/logging",
    "follesoe/VSMonoTouch",
    "praeclarum/CSharpInteractive",
    "adrianhall/stylelint-loader",
    "portmobile/LAGP-Example-Code",
    "f4pga/ideas",
    "nteetor/prairie",
    "Pixens/Discord-Token-Mail-Verifier",
    "Docker-nano/template",
    "uloga/socialicons",
    "royrusso/jwatch",
    "oscar-stack/oscar",
    "duythien/blog",
    "bennofs/reflex-host",
    "tonkapark/spree-wordsmith",
    "mpayetta/node-es6-rest-api",
    "red3/HHPullToRefreshWave",
    "floodlight/oftest",
    "HSU-ANT/beaqlejs",
    "omarish/tweetable",
    "CodeTownOfficial/html-to-elm",
    "oh-my-github/oh-my-github",
    "SongJiaqiang/EvoRadio",
    "samtstern/android-vagrant",
    "sandermangel/magento-dummy-installers",
    "kxcode/gui-for-sqlmap",
    "Hankkin/WeiXinLookImgsDemo",
    "amazingyyc/fasted_gauss_blur",
    "Dirrot/python-cryptocoincharts-api",
    "szpnygo/android-SwipeRecyclerView",
    "wen-fei/KaggleOrOthersJourney",
    "swemoney/has_many_friends",
    "xat/torrentcast",
    "crysislinux/smart_websocket_client",
    "shenqiliang/WGS2Mars",
    "ethanrublee/streamer",
    "jaredhanson/passport-tumblr",
    "thomasthesecond/EntryInstructions",
    "Stephan3/Schnitzelslicerrepo",
    "jmschabdach/bootstrap-tabdrop",
    "clojure-vim/clj-refactor.nvim",
    "snlangsuan/line-messaging",
    "oktadev/okta-spring-boot-2-angular-7-example",
    "facebookarchive/extension-example",
    "MrChrisJohnson/deep-mf",
    "phodal-archive/bookshelf",
    "jeffreykegler/old_kollos",
    "sipcapture/homer-api",
    "ZacSweers/RxNormalize",
    "tamsler/android-flash-cards",
    "fex-team/kitycharts",
    "ogham/Rust-BBEdit",
    "bottlepy/bottle-boilerplate",
    "mirthas/FritzTR064",
    "farizrahman4u/RNN-EM",
    "probabilisticai/probai-2023",
    "meetwudi/EmbededReactNativeExample",
    "gera2ld/h5player",
    "kendo-labs/kendo-backbone",
    "RichardKnop/example-api",
    "marcinn/django-widgets",
    "drejohnson/sapper-graphql-firebase",
    "romannurik/env",
    "tothi/ctfs",
    "topfreegames/khan",
    "krisajenkins/formatting",
    "rowatt/sitepush",
    "hipsterjazzbo/LaraParse",
    "toniblyx/security_monkey_cloudformation",
    "genekogan/ofxPwrrPoint",
    "voronianski/dumbugger",
    "dainnilsson/flask-u2f-tutorial",
    "bittorrent/libbtdht",
    "duststorm/OgreCrowd",
    "marionettejs/guides",
    "nubbel/SexyDates",
    "flyerhzm/resque-restriction",
    "toby20130333/qtquickqrencode",
    "madhums/node-notifier",
    "briansjavablog/spring-webservices-tutorial",
    "DaVikingCode/Video-ANE",
    "amatsuda/interactive_rspec",
    "sskaje/mqtt",
    "aws-samples/eb-docker-virtual-hosting",
    "mdancho84/datasciencecoursera",
    "bustle/ember-mobiledoc-editor",
    "ashblue/simple-tween-js",
    "atilaneves/automem",
    "RedBearLab/Release",
    "wilecoyote2015/Blender_Addons",
    "PengFoo/deep-learning-cn",
    "openvstorage/framework",
    "brandones/cumberbatch",
    "anysome/objective",
    "cecilphillip/aspnetcore-webapi-migrate",
    "javahometech/my-app",
    "zasadnyy/z-validations",
    "ddeville/lldb-commands-cheat-sheet",
    "negati-ve/docker-rclone-google-drive-cron-backup",
    "omniauth/omniauth-openid",
    "rosskukulinski/k8s-scripts",
    "martyjs/marty-chat-example",
    "asofter/yii2-imperavi-redactor",
    "jonmorehouse/vim-flow",
    "yinso/excanvas",
    "blundell/YouTubeTimeStamps",
    "dlabs-devops/soter",
    "emn178/jquery-animations",
    "florianbuerger/awesome-sket.ch",
    "scivey/xact",
    "statico/webgl-demos",
    "xiidea/ezRbac",
    "tue-savvy/IPAExporter",
    "seflless/atom-diagrams",
    "naoty/clr",
    "alexbeletsky/foundstyles",
    "onlysadness/Model",
    "erica/MPMediaItem-Properties",
    "PolishSymfonyCommunity/Symfony2MockerExtension",
    "modcloth/hipchat-emoticons",
    "MeltwaterArchive/editor",
    "lastguest/DynamicString",
    "ronalchn/ajax_pagination",
    "artesaos/warehouse",
    "zhshi/d3js-footprint",
    "BAHome/BAGridView",
    "dorkster/freeblocks",
    "puneetkay/JQ-Image-Drag",
    "JedWatson/react-context-example",
    "runexec/Static-Prime",
    "LetsLunch/lunch",
    "nervous-systems/eulalie",
    "AbdullahGhanem/rating",
    "eriklax/c8tsender",
    "MobileChromeApps/mobile-chrome-app-samples",
    "pNre/NoAnnoyance",
    "degt/Codeigniter-HMVC-example",
    "floydpink/Mantis-CI",
    "PeterCxy/gozbar",
    "iankronquist/kernel-of-truth",
    "nobodxbodon/Web-Fonts-Generator-Service",
    "slightfoot/android-animatedscaledrawable",
    "anarcheuz/Android-PoCs",
]

# 存储结果的列表
data = []

# 遍历仓库列表，获取每个仓库的星标数据
for repo in repos:
    org, repo_name = repo.split('/')
    stars_count = get_repo_stars(org, repo_name)
    if stars_count is not None:
        data.append({
            "仓库名": repo,
            "星标数": stars_count
        })

# 将数据转换为 DataFrame 并保存为 CSV 文件
if data:
    df = pd.DataFrame(data)
    df.to_csv('github_repo_stars8.csv', index=False, encoding='utf-8')
    print("数据已保存到 github_repo_stars8.csv")
else:
    print("没有获取到任何数据。")
